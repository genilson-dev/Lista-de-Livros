
datasource db {
  provider = "postgresql"
  // url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id    String  @id @default(uuid()) // Identificador unico do usuario
  email String  @unique // Email do usuario
  name  String // Nome do usuario
  password String // Senha do usuario
  books Book[] // Livros associados ao usuario
  created_at DateTime @default(now()) // Data de criacao do usuario
  updated_at DateTime @updatedAt // Data da ultima atualizacao do usuario
  @@map("users") // Mapeia o modelo para a tabela "users"
}

model Book {
  id        String  @id @default(uuid())
  title     String
  content   String? @db.Text // Conteudo do livro
  published Boolean @default(false) // Indica se o livro foi publicado
  createdAt DateTime @default(now()) // Data de criacao do livro
  updatedAt DateTime @updatedAt // Data da ultima atualizacao do livro
  author    User    @relation(fields: [authorId], references: [id]) // Relacao com o autor do livro
  authorId  String // ID do autor do livro
  autor     Autor?  @relation(fields: [autorId], references: [id]) // Relacao com o Autor
  autorId   String? // ID do Autor
  @@map("books") // Mapeia o modelo para a tabela "books"
}

model Autor {
  id    String  @id @default(uuid()) // Identificador unico do autor
  name  String // Nome do autor
  bio   String? @db.Text // Biografia do autor
  books Book[] // Livros escritos pelo autor.
  @@map("authors") // Mapeia o modelo para a tabela "autors"
}
